!function(){window.Frontend=Ember.Application.create()}(),function(){Frontend.IndexController=Ember.ArrayController.extend({actions:{drawOverlay:function(){var a=this.get("model");a.forEach(function(a){var b=a.get("polygonPaths"),c=Frontend.map.drawPolygon({paths:b,useGeoJSON:!0,strokeColor:"#BBD8E9",strokeOpacity:1,strokeWeight:3,fillColor:"#BBD8E9",fillOpacity:.8}),d=c.getBounds().getCenter();Frontend.map.drawOverlay({lat:d.lat(),lng:d.lng(),layer:"overlayLayer",content:'<div class="province">'+a.get("name")+"</div>",verticalAlign:"middle",horizontalAlign:"center"}),Ember.run(this,function(){window.google.maps.event.addListener(c,"mouseout",function(){this.setOptions({fillOpacity:.8})}),window.google.maps.event.addListener(c,"mouseover",function(){this.setOptions({fillOpacity:.6})}),window.google.maps.event.addListener(c,"click",function(){Frontend.map.setZoom(8),Frontend.map.setCenter(d.lat(),d.lng())})})})},startOdometer:function(){Ember.run(this,function(){var a=document.querySelector(".students-passed-percent");window.od=new window.Odometer({el:a,value:0}),a.innerHTML=2e5})}}})}(),function(){Frontend.Store=DS.Store.extend(),Frontend.ApplicationAdapter=DS.LSAdapter.extend({namespace:"matric-results"})}(),function(){Frontend.Province=DS.Model.extend({name:DS.attr(),code:DS.attr(),index:DS.attr(),polygonPaths:function(){return void 0===Frontend.globalPaths&&Ember.$.ajax("/data/sa_provinces.json",{async:!1}).success(function(a){Frontend.globalPaths=a}),Frontend.globalPaths.features[this.get("index")].geometry.coordinates}.property("polygonPaths")})}(),function(){Frontend.IndexRoute=Ember.Route.extend({model:function(){void 0===Frontend.globalPaths&&Ember.$.ajax("/data/sa_provinces.json").success(function(a){Frontend.globalPaths=a});var a=this.get("store");return a.createRecord("province",{name:"KwaZulu-Natal",index:0,id:1}),a.createRecord("province",{name:"Free State",index:1,id:2}),a.createRecord("province",{name:"Eastern Cape",index:2,id:3}),a.createRecord("province",{name:"Mpumalanga",index:3,id:4}),a.createRecord("province",{name:"Limpopo",index:4,id:5}),a.createRecord("province",{name:"Northern Cape",index:5,id:6}),a.createRecord("province",{name:"North West",index:6,id:7}),a.createRecord("province",{name:"Western Cape",index:7,id:8}),a.createRecord("province",{name:"Gauteng",index:8,id:9}),a.findAll("province")}})}(),function(){Frontend.MapView=Ember.View.extend({id:"map_canvas",tagName:"div",didInsertElement:function(){Frontend.map=new window.GMaps({div:"#map",lat:-30.559482,lng:22.937505999999985,zoom:6,zoomControl:!1,panControl:!1,streetViewControl:!1,mapTypeControl:!1,overviewMapControl:!1}),this.get("controller").send("drawOverlay")}})}(),function(){Frontend.SouthAfricaOverlayView=Ember.View.extend({tagName:"div",didInsertElement:function(){var a=this.get("controller");Ember.run.later(this,function(){a.send("startOdometer")},200)}})}(),function(){Frontend.Router.map(function(){})}(),function(){window.odometerOptions={auto:!1,format:"(,ddd).dd",duration:3e3,animation:"count"}}();